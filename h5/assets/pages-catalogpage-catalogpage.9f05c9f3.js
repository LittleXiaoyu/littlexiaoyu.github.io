import{B as e,z as t,s,p as a,l as o,J as l,o as n,a as i,d as c,w as A,b as u,e as d,G as r,c as f,t as p,F as h,r as m,f as g,m as X,k,K as _}from"./index.e6148b86.js";import{r as b,_ as C}from"./uni-icons.7ebb6848.js";import{_ as B}from"./uni-popup.9d9dfcb5.js";import{_ as S,a as v,b as w}from"./common_icon_arrow_down.743e97d5.js";import{_ as y}from"./plugin-vue_export-helper.21dcd24c.js";var z=y({data:()=>({contentData:{},detailData:null,catalogData:[],showOrder:!0,itemId:e("itemId")||[],windowWidth:0,type:"",bookimg:"",setsize:"20",showmode:!0,colorbg:"#fff",fontcolor:"#333",nowindex:""}),onLoad(e){console.log(e),this.windowWidth=t().windowWidth/2+80,s({title:"加载中..."}),a({url:"https://apis.netstart.cn/yunyuedu/reader/book/content.json?source_uuid="+e.source+"&content_uuid="+e.content,success:e=>{this.contentData=e.data.data,o()}}),a({url:"https://apis.netstart.cn/yunyuedu/book/catalog.json?tocId="+this.$route.query.source,success:e=>{console.log(e.data.ncx.navMap.navPoint),o(),e.data.ncx.navMap.navPoint.navPoint?this.catalogData=e.data.ncx.navMap.navPoint.navPoint:this.catalogData=e.data.ncx.navMap.navPoint}})},onReachBottom(){this.$refs.popup.open("bottom")},methods:{changesize(){this.$refs.content_size.open("bottom"),this.$refs.popup.close()},setmode(){this.$refs.popup.close(),this.showmode?(this.showmode=!1,this.colorbg="#6d6d6d",this.fontcolor="#e7e7e7"):(this.showmode=!0,this.colorbg="#fff",this.fontcolor="#333")},fontsize(e){this.setsize=e,this.$refs.content_size.close()},toggle(e){this.$refs.popup.open(e)},openmulu(e){this.$refs.popup.close(),this.$refs.openmulu.open(e),a({url:"https://apis.netstart.cn/yunyuedu/book/getsub.json?id="+this.$route.query.source+"&title="+this.$route.query.title,success:e=>{var t,s,a,o,l;console.log(e.data.feed),this.detailData=e.data.feed,this.bookimg=null==(l=null==(o=null==(a=null==(s=null==(t=e.data)?void 0:t.feed)?void 0:s.entry)?void 0:a.link)?void 0:o.find((e=>"image/png"==e.type)))?void 0:l.href}})},changsOrder(){this.showOrder?(this.showOrder=!1,this.catalogData=this.catalogData.reverse()):(this.showOrder=!0,this.catalogData=this.catalogData.reverse())},changeContent(e,t){s({title:"加载中..."}),console.log(t),this.$refs.openmulu.close(),this.itemId=[...this.itemId,e],l("itemId",this.itemId),a({url:"https://apis.netstart.cn/yunyuedu/reader/book/content.json?source_uuid="+this.$route.query.source+"&content_uuid="+e,success:e=>{console.log(e.data.data),this.contentData=e.data.data,o()}})}}},[["render",function(e,t,s,a,o,l){const y=g,z=b(X("uni-icons"),C),M=b(X("uni-popup"),B),D=k,Y=_,O=b(X("uni-drawer"),w);return n(),i(h,null,[c(y,null,{default:A((()=>{var e;return[c(y,{class:"content_cont",style:u(`font-size: ${o.setsize}rpx;background-color:${o.colorbg};color:${o.fontcolor};`),innerHTML:null==(e=o.contentData)?void 0:e.content,onClick:t[0]||(t[0]=e=>l.toggle("bottom"))},null,8,["style","innerHTML"])]})),_:1}),c(M,{ref:"popup","background-color":"#fff"},{default:A((()=>[c(y,{class:"popup-content"},{default:A((()=>[c(y,{class:"mulu_min",onClick:t[1]||(t[1]=t=>e.previouschapter())},{default:A((()=>[c(y,{class:"text"},{default:A((()=>[c(z,{type:"left",size:"20"}),d("上一章 ")])),_:1})])),_:1}),c(y,{class:"mulu_min",onClick:t[2]||(t[2]=e=>l.openmulu("left"))},{default:A((()=>[r("img",{class:"img_set",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsAQMAAAAkSshCAAAABlBMVEUAAABeXl5rrrZcAAAAAXRSTlMAQObYZgAAABZJREFUGNNjoBAw8////wFGQcFwNxMAzg4SAe8p52IAAAAASUVORK5CYII="}),c(y,{class:"text"},{default:A((()=>[d(" 目录 ")])),_:1})])),_:1}),c(y,{class:"mulu_min",onClick:t[3]||(t[3]=e=>l.changesize())},{default:A((()=>[r("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAAeFBMVEUAAABeXl5hYWFfX19eXl5fX19oaGheXl5fX19hYWFlZWVfX19fX19eXl5eXl5fX19iYmJjY2NeXl5eXl5fX19fX19fX19fX19gYGBfX19hYWFfX19eXl5eXl5gYGBgYGBeXl5fX19eXl5jY2NeXl5fX19iYmJeXl5S+ueRAAAAJ3RSTlMAfyrV7ogJvJpEFPno48F1HA/00KyQY2tUQDr2yaBOMi7dpiGzaDT9vKFKAAABQUlEQVQ4y+2S23aCMBREuYY7CAhYL7Vq2/3/f1gjED15ynOX80BYZ81KJpPtvfWP9AWBszkG39lchZfe1fuBn3JzNKcEOxo3r4pCL6d2M+/07Y5snMxbAl3I5OJti/D+zUhczOOjY3UocgdzPb9ewvic5XFdHi7pxvZuCB9rw7eZNR0PRZ+WuVle+kzRLiOfQ3xu8yyhs6L1K0MRu/lnT7WMEgYLuNA0uF0t6+kZvQTO8PZDp+xW6SRwhuQbZkcjkMC96vSab0zrSJpTYY7MHqeSWRZwT4Vkcx09UJ6aLAcbOCOfVC8TlPHeZJbAGQWU8zUGZS5oASdy7HXNsWhDACdyDPolDT8DWMCJHJU2xwtiCSCBs3KcvSscM6V+h44tZBI4mSP22uPa+qSAQgAncuiz1FhXRZVMdzzTqLx6b1n6A8+sH0zDaXh7AAAAAElFTkSuQmCC",class:"img_set"}),c(y,{class:"text"},{default:A((()=>[d(" 字号 ")])),_:1})])),_:1}),o.showmode?(n(),f(y,{key:0,class:"mulu_min",onClick:t[4]||(t[4]=e=>l.setmode())},{default:A((()=>[r("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAAbFBMVEUAAACQhHuFfXaWiYmBenOBenSAe3OAe3SBenSAe3SDfHWFf3iJf3aAe3OBe3OCe3SBe3ODfHaBenSAe3OBenOBenSBenSAe3OBfHSCe3SBenWBe3aDfnaAe3SAe3SAenOCfHSCfXiGhnmAenNMKpkqAAAAI3RSTlMADB8I3fXK+L+SPyYY8KR9dDjE8+SsmYiCS0hbLee5r1MxE3hbmRsAAAEmSURBVDjL7ZRXkoMwEEQRKACWRDDZOG3f/47r9domKhzA/YNKetUlpmcUfGVT1J98UZkw5J6urQBQeLEhB7RC6MMezqBFwEB8fCtcHtzRB4444ujxpTi44Q70aRkjdV9CvKDGo3QJ9P/ihtLFEobxtRKQDrif/K5onbfI3ss7hCMWPquBRm2H6SzkUCGzscuQB8DSpuuQc1i8p5Anujb95TbkQUG00l66SaEGUObpgZCwyE9LJ/BgpftV4K1+2aBqpzPJrYnpkSmwaHnQmJPQSNZjzUyDWkDIneb/2WMJRWsYq+32BXxnW1aIN94kxnk3nbECXd07pagM8ys5UM/ORg1wY+pRxwCePWNLsxIQXWR7GBuFj1gSuh6bIfmLjZZJT4KvLPoFKbYVgfi8EIUAAAAASUVORK5CYII=",class:"img_set"}),c(y,{class:"text"},{default:A((()=>[d(" 夜间 ")])),_:1})])),_:1})):(n(),f(y,{key:1,class:"mulu_min",onClick:t[5]||(t[5]=e=>l.setmode())},{default:A((()=>[r("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAAYFBMVEUAAABiYmJfX19fX19eXl5eXl5fX19fX19fX19gYGBhYWFeXl5eXl5fX19eXl5mZmZmZmZzc3NfX19eXl5fX19fX19fX19eXl5eXl5fX19fX19hYWFhYWFgYGBmZmZeXl4cmop8AAAAH3RSTlMAFdRyrutd3pZpQfO7pm0ZDwrXyMS2j42CU0Y6NyUelF9A/QAAAOlJREFUOMvtlEkOgzAMRZ1mgDAVOrcM//63bAVCBhEZqWzaqm/1Hb9NFMf0Zw3gS2StQrLSQRc7tZTVDlObj9kWD7mx7nLLEFFZ5MdjXpSvaNhd2mZPdEvRk96I9kaRQJkBZ9c07gxkJckY2HpItYWRXQ/bjbmz8KIc4c7FHZHkJvN2hESQNa7T8hp8PfQQxfDzG8TcC8jFVC4CMqNxmZYX6I0XZA5wXDgcSMIhbcfcpnAkksM+hvSwyEmmMsDJJ4k/AaYiJjyi2qLH6nFEpeGvXJxlsat4+Ld8K/nDvr8K5CXzyYtxLv8MT2DNEtsSfiBWAAAAAElFTkSuQmCC",class:"img_set"}),c(y,{class:"text"},{default:A((()=>[d(" 日间 ")])),_:1})])),_:1})),c(y,{class:"mulu_min",onClick:t[6]||(t[6]=t=>e.nextchapter())},{default:A((()=>[c(y,{class:"text"},{default:A((()=>[d(" 下一章"),c(z,{type:"right",size:"20"})])),_:1})])),_:1})])),_:1})])),_:1},512),c(y,{class:"mulu"},{default:A((()=>[c(O,{ref:"openmulu",mode:"left","mask-click":!0,width:o.windowWidth},{default:A((()=>[c(y,{class:"top_pic"},{default:A((()=>[c(y,{class:"top_pic_left"},{default:A((()=>[c(D,{class:"bookimg",src:o.bookimg,mode:"aspectFill"},null,8,["src"])])),_:1}),c(y,{class:"top_pic_right"},{default:A((()=>{var e,t,s,a,l;return[r("h2",null,p(null==(t=null==(e=o.detailData)?void 0:e.entry)?void 0:t.title),1),r("div",{class:"bookxq-r-name"},p(null==(l=null==(a=null==(s=o.detailData)?void 0:s.entry)?void 0:a.author)?void 0:l.name),1)]})),_:1})])),_:1}),c(y,{class:"navmap_coun"},{default:A((()=>[c(y,{class:"navmap_left"},{default:A((()=>[d(" 共"+p(o.catalogData.length)+"章 ",1)])),_:1}),o.showOrder?(n(),f(y,{key:0,class:"navmap_right",onClick:t[7]||(t[7]=e=>l.changsOrder())},{default:A((()=>[d(" 倒序 "),c(D,{src:S,mode:"center",class:"changsimg"})])),_:1})):(n(),f(y,{key:1,class:"navmap_right",onClick:t[8]||(t[8]=e=>l.changsOrder())},{default:A((()=>[d(" 正序 "),c(D,{src:v,mode:"center",class:"changsimg"})])),_:1}))])),_:1}),c(Y,{style:{height:"100%"},"scroll-y":"true"},{default:A((()=>[(n(!0),i(h,null,m(o.catalogData,((e,t)=>(n(),f(y,{key:t,class:"navLabel",style:u(`color:${o.itemId.includes(e.id)?"#333":"#999"} ;`),onClick:s=>l.changeContent(e.id,t)},{default:A((()=>[d(p(e.navLabel.split(",")[1]),1)])),_:2},1032,["style","onClick"])))),128))])),_:1})])),_:1},8,["width"])])),_:1}),c(M,{ref:"content_size","background-color":"#fff",class:"content_size"},{default:A((()=>[c(y,{class:"popup-content"},{default:A((()=>[r("span",{onClick:t[9]||(t[9]=e=>l.fontsize("20")),style:u("background-color:"+("20"==o.setsize?"#868686":"#e2e2e2"))},"小",4),r("span",{onClick:t[10]||(t[10]=e=>l.fontsize("30")),style:u("background-color:"+("30"==o.setsize?"#868686":"#e2e2e2"))},"中",4),r("span",{onClick:t[11]||(t[11]=e=>l.fontsize("40")),style:u("background-color:"+("40"==o.setsize?"#868686":"#e2e2e2"))},"大",4)])),_:1})])),_:1},512)],64)}],["__scopeId","data-v-182e2dbc"]]);export{z as default};
